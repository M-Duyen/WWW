<!DOCTYPE html>
<html
    xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
>
    <head>
        <meta charset="UTF-8" />
        <title>Product Detail</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
            rel="stylesheet"
        />
    </head>

    <body>
        <div class="container mt-5">
            <div class="card shadow">
                <div class="card-header bg-info text-white">
                    <h3>Product Detail</h3>
                </div>
                <div class="card-body">
                    <h5 class="card-title" th:text="${product.name}">
                        Product Name
                    </h5>
                    <p class="card-text">
                        <strong>Price:</strong>
                        <span th:text="${product.price}">0.0</span>
                    </p>
                    <p class="card-text">
                        <strong>In Stock:</strong>
                        <span th:text="${product.inStock}">0</span>
                    </p>
                    <p class="card-text">
                        <strong>Category:</strong>
                        <span
                            th:text="${product.category != null ? product.category.name : 'â€”'}"
                            >Category</span
                        >
                    </p>

                    <a th:href="@{/products}" class="btn btn-secondary"
                        >Back to List</a
                    >

                    <form
                        th:action="@{/cart/add}"
                        method="post"
                        sec:authorize="hasAnyRole('CUSTOMER','ADMIN')"
                        style="display: inline-block"
                    >
                        <input
                            type="hidden"
                            name="productId"
                            th:value="${product.id}"
                        />
                        <input
                            type="number"
                            name="quantity"
                            value="1"
                            min="1"
                            style="width: 100px"
                        />
                        <button type="submit" class="btn btn-success ms-2">
                            Add to Cart
                        </button>
                    </form>

                    <a
                        th:href="@{|/products/edit/${product.id}|}"
                        class="btn btn-warning"
                        sec:authorize="hasRole('ADMIN')"
                        >Edit
                    </a>
                </div>
            </div>
        </div>
    </body>
</html>
